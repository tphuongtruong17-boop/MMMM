import { Parser, Tokenizer, Source, } from "assemblyscript/dist/assemblyscript.js";
export class SimpleParser {
    static get parser() {
        return new Parser();
    }
    static getTokenizer(s, file = "index.ts") {
        return new Tokenizer(new Source(0 /* SourceKind.User */, file, s));
    }
    static parseExpression(s) {
        const res = this.parser.parseExpression(this.getTokenizer(s));
        if (res == null) {
            throw new Error("Failed to parse the expression: '" + s + "'");
        }
        return res;
    }
    static parseStatement(s, topLevel = false) {
        const res = this.parser.parseStatement(this.getTokenizer(s), topLevel);
        if (res == null) {
            throw new Error("Failed to parse the statement: '" + s + "'");
        }
        return res;
    }
    static parseTopLevelStatement(s, namespace) {
        const res = this.parser.parseTopLevelStatement(this.getTokenizer(s), namespace);
        if (res == null) {
            throw new Error("Failed to parse the top level statement: '" + s + "'");
        }
        return res;
    }
    static parseClassMember(s, _class) {
        let res = this.parser.parseClassMember(this.getTokenizer(s, _class.range.source.normalizedPath), _class);
        if (res == null) {
            throw new Error("Failed to parse the class member: '" + s + "'");
        }
        return res;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2ltcGxlUGFyc2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3NpbXBsZVBhcnNlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsTUFBTSxFQUNOLFNBQVMsRUFDVCxNQUFNLEdBT1AsTUFBTSx1Q0FBdUMsQ0FBQztBQUUvQyxNQUFNLE9BQU8sWUFBWTtJQUNmLE1BQU0sS0FBSyxNQUFNO1FBQ3ZCLE9BQU8sSUFBSSxNQUFNLEVBQUUsQ0FBQztJQUN0QixDQUFDO0lBRU8sTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFTLEVBQUUsT0FBZSxVQUFVO1FBQzlELE9BQU8sSUFBSSxTQUFTLENBQUMsSUFBSSxNQUFNLDBCQUFrQixJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3RCxDQUFDO0lBRUQsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFTO1FBQzlCLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5RCxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUNoQixNQUFNLElBQUksS0FBSyxDQUFDLG1DQUFtQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztRQUNqRSxDQUFDO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDO0lBRUQsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFTLEVBQUUsUUFBUSxHQUFHLEtBQUs7UUFDL0MsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUN2RSxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUNoQixNQUFNLElBQUksS0FBSyxDQUFDLGtDQUFrQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztRQUNoRSxDQUFDO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDYixDQUFDO0lBRUQsTUFBTSxDQUFDLHNCQUFzQixDQUMzQixDQUFTLEVBQ1QsU0FBdUM7UUFFdkMsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ2hGLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBQ2hCLE1BQU0sSUFBSSxLQUFLLENBQUMsNENBQTRDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQzFFLENBQUM7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7SUFFRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBUyxFQUFFLE1BQXdCO1FBQ3pELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQ3BDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUN4RCxNQUFNLENBQ1AsQ0FBQztRQUNGLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBQ2hCLE1BQU0sSUFBSSxLQUFLLENBQUMscUNBQXFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ25FLENBQUM7UUFDRCxPQUE2QixHQUFHLENBQUM7SUFDbkMsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBQYXJzZXIsXHJcbiAgVG9rZW5pemVyLFxyXG4gIFNvdXJjZSxcclxuICBTb3VyY2VLaW5kLFxyXG4gIEV4cHJlc3Npb24sXHJcbiAgU3RhdGVtZW50LFxyXG4gIE5hbWVzcGFjZURlY2xhcmF0aW9uLFxyXG4gIENsYXNzRGVjbGFyYXRpb24sXHJcbiAgRGVjbGFyYXRpb25TdGF0ZW1lbnQsXHJcbn0gZnJvbSBcImFzc2VtYmx5c2NyaXB0L2Rpc3QvYXNzZW1ibHlzY3JpcHQuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTaW1wbGVQYXJzZXIge1xyXG4gIHByaXZhdGUgc3RhdGljIGdldCBwYXJzZXIoKTogUGFyc2VyIHtcclxuICAgIHJldHVybiBuZXcgUGFyc2VyKCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXRpYyBnZXRUb2tlbml6ZXIoczogc3RyaW5nLCBmaWxlOiBzdHJpbmcgPSBcImluZGV4LnRzXCIpOiBUb2tlbml6ZXIge1xyXG4gICAgcmV0dXJuIG5ldyBUb2tlbml6ZXIobmV3IFNvdXJjZShTb3VyY2VLaW5kLlVzZXIsIGZpbGUsIHMpKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBwYXJzZUV4cHJlc3Npb24oczogc3RyaW5nKTogRXhwcmVzc2lvbiB7XHJcbiAgICBjb25zdCByZXMgPSB0aGlzLnBhcnNlci5wYXJzZUV4cHJlc3Npb24odGhpcy5nZXRUb2tlbml6ZXIocykpO1xyXG4gICAgaWYgKHJlcyA9PSBudWxsKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBwYXJzZSB0aGUgZXhwcmVzc2lvbjogJ1wiICsgcyArIFwiJ1wiKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgcGFyc2VTdGF0ZW1lbnQoczogc3RyaW5nLCB0b3BMZXZlbCA9IGZhbHNlKTogU3RhdGVtZW50IHtcclxuICAgIGNvbnN0IHJlcyA9IHRoaXMucGFyc2VyLnBhcnNlU3RhdGVtZW50KHRoaXMuZ2V0VG9rZW5pemVyKHMpLCB0b3BMZXZlbCk7XHJcbiAgICBpZiAocmVzID09IG51bGwpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIHRoZSBzdGF0ZW1lbnQ6ICdcIiArIHMgKyBcIidcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHBhcnNlVG9wTGV2ZWxTdGF0ZW1lbnQoXHJcbiAgICBzOiBzdHJpbmcsXHJcbiAgICBuYW1lc3BhY2U/OiBOYW1lc3BhY2VEZWNsYXJhdGlvbiB8IG51bGxcclxuICApOiBTdGF0ZW1lbnQge1xyXG4gICAgY29uc3QgcmVzID0gdGhpcy5wYXJzZXIucGFyc2VUb3BMZXZlbFN0YXRlbWVudCh0aGlzLmdldFRva2VuaXplcihzKSwgbmFtZXNwYWNlKTtcclxuICAgIGlmIChyZXMgPT0gbnVsbCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgdGhlIHRvcCBsZXZlbCBzdGF0ZW1lbnQ6ICdcIiArIHMgKyBcIidcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHBhcnNlQ2xhc3NNZW1iZXIoczogc3RyaW5nLCBfY2xhc3M6IENsYXNzRGVjbGFyYXRpb24pOiBEZWNsYXJhdGlvblN0YXRlbWVudCB7XHJcbiAgICBsZXQgcmVzID0gdGhpcy5wYXJzZXIucGFyc2VDbGFzc01lbWJlcihcclxuICAgICAgdGhpcy5nZXRUb2tlbml6ZXIocywgX2NsYXNzLnJhbmdlLnNvdXJjZS5ub3JtYWxpemVkUGF0aCksXHJcbiAgICAgIF9jbGFzc1xyXG4gICAgKTtcclxuICAgIGlmIChyZXMgPT0gbnVsbCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgdGhlIGNsYXNzIG1lbWJlcjogJ1wiICsgcyArIFwiJ1wiKTtcclxuICAgIH1cclxuICAgIHJldHVybiA8RGVjbGFyYXRpb25TdGF0ZW1lbnQ+cmVzO1xyXG4gIH1cclxufVxyXG4iXX0=