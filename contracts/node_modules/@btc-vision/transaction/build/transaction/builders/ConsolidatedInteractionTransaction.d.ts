import { Buffer } from 'buffer';
import { ECPairInterface } from 'ecpair';
import { TransactionType } from '../enums/TransactionType.js';
import { TransactionBuilder } from './TransactionBuilder.js';
import { HashCommitmentGenerator } from '../../generators/builders/HashCommitmentGenerator.js';
import { CalldataGenerator } from '../../generators/builders/CalldataGenerator.js';
import { IConsolidatedInteractionParameters, IConsolidatedInteractionResult, IHashCommittedP2WSH, IRevealTransactionResult } from '../interfaces/IConsolidatedTransactionParameters.js';
import { IP2WSHAddress } from '../mineable/IP2WSHAddress.js';
import { IChallengeSolution } from '../../epoch/interfaces/IChallengeSolution.js';
export declare class ConsolidatedInteractionTransaction extends TransactionBuilder<TransactionType.INTERACTION> {
    readonly type: TransactionType.INTERACTION;
    readonly randomBytes: Buffer;
    protected readonly contractAddress: string;
    protected readonly contractSecret: Buffer;
    protected readonly calldata: Buffer;
    protected readonly challenge: IChallengeSolution;
    protected readonly epochChallenge: IP2WSHAddress;
    protected readonly scriptSigner: ECPairInterface;
    protected readonly calldataGenerator: CalldataGenerator;
    protected readonly hashCommitmentGenerator: HashCommitmentGenerator;
    protected readonly compiledTargetScript: Buffer;
    protected readonly commitmentOutputs: IHashCommittedP2WSH[];
    protected readonly disableAutoRefund: boolean;
    protected readonly maxChunkSize: number;
    private cachedValuePerOutput;
    constructor(parameters: IConsolidatedInteractionParameters);
    exportCompiledTargetScript(): Buffer;
    getContractSecret(): Buffer;
    getRndBytes(): Buffer;
    getChallenge(): IChallengeSolution;
    getCommitmentOutputs(): IHashCommittedP2WSH[];
    getOutputCount(): number;
    getTotalChunkCount(): number;
    build(): Promise<IConsolidatedInteractionResult>;
    buildRevealTransaction(setupTxId: string): IRevealTransactionResult;
    getValuePerOutput(): bigint;
    protected buildTransaction(): Promise<void>;
    private finalizeCommitmentInput;
    private estimateRevealVBytes;
    private calculateValuePerOutput;
    private getRefundAddress;
    private generateFeatures;
    private validateOutputCount;
}
