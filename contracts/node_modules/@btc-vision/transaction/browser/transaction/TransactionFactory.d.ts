import { Transaction } from '../../node_modules/@btc-vision/bitcoin/build/index.js';
import { UTXO } from '../utxo/interfaces/IUTXO.js';
import { FundingTransaction } from './builders/FundingTransaction.js';
import { TransactionBuilder } from './builders/TransactionBuilder.js';
import { TransactionType } from './enums/TransactionType.js';
import { IDeploymentParameters, IFundingTransactionParameters, IInteractionParameters } from './interfaces/ITransactionParameters.js';
import { ICancelTransactionParametersWithoutSigner, ICustomTransactionWithoutSigner, InteractionParametersWithoutSigner } from './interfaces/IWeb3ProviderTypes.js';
import { RawChallenge } from '../epoch/interfaces/IChallengeSolution.js';
import { IConsolidatedInteractionParameters } from './interfaces/IConsolidatedTransactionParameters.js';
import { CancelledTransaction, DeploymentResult, InteractionResponse } from './interfaces/ITransactionResponses.js';
import { ICancelTransactionParameters } from './interfaces/ICancelTransactionParameters.js';
import { ICustomTransactionParameters } from './interfaces/ICustomTransactionParameters.js';
export interface FundingTransactionResponse {
    readonly tx: Transaction;
    readonly original: FundingTransaction;
    readonly estimatedFees: bigint;
    readonly nextUTXOs: UTXO[];
    readonly inputUtxos: UTXO[];
}
export interface BitcoinTransferBase {
    readonly tx: string;
    readonly estimatedFees: bigint;
    readonly nextUTXOs: UTXO[];
    readonly inputUtxos: UTXO[];
}
export interface BitcoinTransferResponse extends BitcoinTransferBase {
    readonly original: FundingTransaction;
}
export interface ConsolidatedInteractionResponse {
    readonly setupTransaction: string;
    readonly revealTransaction: string;
    readonly setupTxId: string;
    readonly revealTxId: string;
    readonly totalFees: bigint;
    readonly chunkCount: number;
    readonly dataSize: number;
    readonly challenge: RawChallenge;
    readonly inputUtxos: UTXO[];
    readonly compiledTargetScript: string;
}
export declare class TransactionFactory {
    debug: boolean;
    private readonly DUMMY_PUBKEY;
    private readonly P2TR_SCRIPT;
    private readonly INITIAL_FUNDING_ESTIMATE;
    private readonly MAX_ITERATIONS;
    createCancellableTransaction(params: ICancelTransactionParameters | ICancelTransactionParametersWithoutSigner): Promise<CancelledTransaction>;
    createCustomScriptTransaction(interactionParameters: ICustomTransactionParameters | ICustomTransactionWithoutSigner): Promise<[string, string, UTXO[], UTXO[]]>;
    signInteraction(interactionParameters: IInteractionParameters | InteractionParametersWithoutSigner): Promise<InteractionResponse>;
    signConsolidatedInteraction(interactionParameters: IConsolidatedInteractionParameters): Promise<ConsolidatedInteractionResponse>;
    signDeployment(deploymentParameters: IDeploymentParameters): Promise<DeploymentResult>;
    createBTCTransfer(parameters: IFundingTransactionParameters): Promise<BitcoinTransferResponse>;
    getAllNewUTXOs(original: TransactionBuilder<TransactionType>, tx: Transaction, to: string): UTXO[];
    private parseOptionalInputs;
    private detectCancelOPWallet;
    private detectInteractionOPWallet;
    private detectDeploymentOPWallet;
    private createFundTransaction;
    private hasP2WDAInputs;
    private writePSBTHeader;
    private signP2WDAInteraction;
    private getPriorityFee;
    private iterateFundingAmount;
    private getUTXOAsTransaction;
}
